from credo_cf import X, Y, FRAME_CONTENT, WIDTH, HEIGHT, load_image, CROP_SIZE, image_basic_metrics, convert_to_gray, EDGE


def test_load_image():
    detection = {
        FRAME_CONTENT: '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',
    }

    load_image(detection)
    convert_to_gray(detection)


def test_image_basic_metrics():
    detection = {
        CROP_SIZE: (60, 60),
        HEIGHT: 960,
        WIDTH: 1280,
        X: 110,
        Y: 472
    }

    image_basic_metrics(detection)
    assert not detection.get(EDGE, False)
